"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var objects=[[{id:"mirror",title:"Mirror",src:"images/mirror.png"},{id:"balerina",title:"Ballet Danser",src:"images/balerina.png"},{id:"perfume",title:"Perfume",src:"images/perfume.png"},{id:"comb",title:"Comb",src:"images/comb.png"}],[{id:"shoe",title:"Shoe",src:"images/shoe.png"},{id:"fan",title:"Fan",src:"images/fan.png"},{id:"bird",title:"Bird",src:"images/bird.png"},{id:"book",title:"Book",src:"images/book.png"}],[{id:"purse",title:"Purse",src:"images/purse.png"},{id:"basket",title:"Basket",src:"images/basket.png"},{id:"card",title:"Card",src:"images/card.png"},{id:"apple",title:"Apple",src:"images/apple.png"}]],count=null,level=0,bg=document.querySelector(".bg"),box=document.querySelector(".object__box"),win=document.querySelector(".win"),list=document.querySelector(".list__items"),content=document.querySelector(".content"),tutorial=document.querySelector(".tutorial"),container=document.getElementById("box"),lightInterval=setInterval(function(){highlightObject()},5e3);document.body.onload=function(){playSound("music","Caribbean Blue"),gameStart(),hideSpiner()};var Game=function(){function e(){_classCallCheck(this,e),this.count=0,this.runing=!1}return _createClass(e,[{key:"addedPlace",value:function(){var e=document.createElement("div"),t=document.createElement("div");e.className="object__box",t.className="bg_cut",container.append(e,t),this.createObjects()}},{key:"createObjects",value:function(){var a=this;objects[level].forEach(function(e){var t=document.createElement("img"),n=document.createElement("img"),i=document.createElement("div"),o=document.createElement("div"),c=document.querySelector(".object__box");t.src=e.src,n.src=e.src,i.id=e.id,i.append(t),i.className="object filter",o.id=e.id+"_clone",o.append(n),o.className="object object_clone filter is-opacity ".concat(e.id),o.addEventListener("click",a.onClickObject,!1),container.append(i),c.append(o),addTitleList(e)})}},{key:"levelUp",value:function(){3===++level&&(level=0)}},{key:"onClickObject",value:function(){var e=document.getElementById(this.id.substr(0,this.id.length-6));if(playSound("sound","bell"),showFoundObject(this.id,this.count),e.classList.remove("filter"),this.removeEventListener("click",this.onClickObject,!1),3===++count&&createdWin(),4===count){var t=document.querySelector(".win__btn_pf");clearTimeout(lightInterval),victory(),t.addEventListener("click",gameStop)}}}]),e}();function gameStart(){var e=new Game;e.addedPlace(),bg.classList.remove("bg_blur"),content.classList.remove("bg_blur"),hideTutorial(),e.levelUp()}function hideSpiner(){document.querySelector(".spiner").classList.add("is-hidden")}function hideTutorial(){setTimeout(function(){return tutorial.classList.add("is-opacity")},2e3)}function showTutorial(){tutorial.classList.add("is-opacity")}function showFoundObject(e){var t=document.getElementById(e);recolorTitle(e.substr(0,e.length-6)),t.classList.add("object_found"),t.classList.remove("is-opacity"),setTimeout(function(){t.classList.remove("object_found"),t.classList.add("found-top"),setTimeout(function(){t.className="",t.classList.add("object_width")},1e3)},2e3)}function addTitleList(e){var t=document.createElement("span");t.id=e.id+"_title",t.innerHTML=e.title,t.className="list__item",list.append(t)}function recolorTitle(e){document.getElementById("".concat(e,"_title")).classList.add("list__items_found")}function victory(){setTimeout(function(){win.style.display="flex",playSound("music","score")},4e3)}function highlightObject(){var e=document.querySelectorAll("#box > .filter"),t=document.querySelectorAll("#box > .object"),n=e[0];t.forEach(function(e){e.classList.contains("light")&&e.classList.remove("light")}),setTimeout(function(){return n.classList.add("light")},4700)}function playSound(e,t){var n=document.querySelector(".".concat(e)),i=new Audio("media/".concat(t,".mp3"));"music"===e&&(i.volume=.3,i.loop="loop"),"score"===t&&(i.loop="",i.addEventListener("ended",function(){return playSound("music","Alan Silvestri - Super Mario Bros. Theme _ Police Car Chase")})),i.autoplay="autoplay",n.innerHTML="",n.append(i)}function createdWin(){document.querySelector(".win").innerHTML='<div class="bg bg_blur"></div>\n                <div class="win__logo">\n                  <img src="images/logo.png" alt="">\n                </div>\n                <a class="win__btn_pf">\n                  <img src="images/button.png" class="win__btn-pf_position" alt="Play free now!">\n                  <h1>Play free</h1>    \n                </a>\n                <a href="index.html" class="win__btn-google">\n                  <img src="images/google.png" alt="" >\n                </a>'}function gameStop(){list.innerHTML="",container.innerHTML="",bg.classList.add("bg_blur"),content.classList.add("bg_blur"),playSound("music","Caribbean Blue"),showTutorial(),win.style.display="",count=0,gameStart()}
//# sourceMappingURL=../maps/index.min.js.map
