{"version":3,"sources":["db.js","main.js"],"names":["objects","id","title","src","count","level","bg","document","querySelector","box","win","list","content","tutorial","container","getElementById","lightInterval","setInterval","highlightObject","fix100vh","body","onload","playSound","gameStart","hideSpiner","Game","_classCallCheck","this","runing","_this","forEach","i","img","createElement","images","div","clone","append","className","concat","addEventListener","onClickObject","addTitleList","createObjects","object","substr","length","showFoundObject","classList","remove","removeEventListener","createdWin","playBtn","clearTimeout","victory","gameStop","game","addedPlace","hideTutorial","levelUp","add","setTimeout","showTutorial","recolorTitle","item","innerHTML","style","display","querySelectorAll","objectsFound","contains","meaning","trackName","sound","player","Audio","volume","loop","autoplay","is_mobile","test","navigator","userAgent","vh","window","innerHeight","elem","width"],"mappings":"mZAAA,IAAAA,QAAA,CACA,CACA,CACAC,GAAA,SACAC,MAAA,SACAC,IAAA,qBAEA,CACAF,GAAA,WACAC,MAAA,gBACAC,IAAA,uBAEA,CACAF,GAAA,UACAC,MAAA,UACAC,IAAA,sBAEA,CACAF,GAAA,OACAC,MAAA,OACAC,IAAA,oBAGA,CACA,CACAF,GAAA,OACAC,MAAA,OACAC,IAAA,mBAEA,CACAF,GAAA,MACAC,MAAA,MACAC,IAAA,kBAEA,CACAF,GAAA,OACAC,MAAA,OACAC,IAAA,mBAEA,CACAF,GAAA,OACAC,MAAA,OACAC,IAAA,oBAGA,CACA,CACAF,GAAA,QACAC,MAAA,QACAC,IAAA,oBAEA,CACAF,GAAA,SACAC,MAAA,SACAC,IAAA,qBAEA,CACAF,GAAA,OACAC,MAAA,OACAC,IAAA,mBAEA,CACAF,GAAA,QACAC,MAAA,QACAC,IAAA,sBChEAC,MAAA,KACAC,MAAA,EAEAC,GAAAC,SAAAC,cAAA,OACAC,IAAAF,SAAAC,cAAA,gBACAE,IAAAH,SAAAC,cAAA,QACAG,KAAAJ,SAAAC,cAAA,gBACAI,QAAAL,SAAAC,cAAA,YACAK,SAAAN,SAAAC,cAAA,aACAM,UAAAP,SAAAQ,eAAA,OAEAC,cAAAC,YAAA,WACAC,mBACA,KAEAC,WACAZ,SAAAa,KAAAC,OAAA,WACAC,UAAA,QAAA,kBACAC,YACAC,kBAGAC,gBACA,SAAAA,IAAAC,gBAAAC,KAAAF,GACAE,KAAAvB,MAAA,EACAuB,KAAAC,QAAA,+DAGA,IAAAC,EAAAF,KACA3B,QAAAK,OAAAyB,QAAA,SAAAC,GACA,IAAAC,EAAAzB,SAAA0B,cAAA,OACAC,EAAA3B,SAAA0B,cAAA,OACAE,EAAA5B,SAAA0B,cAAA,OACAG,EAAA7B,SAAA0B,cAAA,OACAxB,EAAAF,SAAAC,cAAA,gBAEAwB,EAAA7B,IAAA4B,EAAA5B,IACA+B,EAAA/B,IAAA4B,EAAA5B,IACAgC,EAAAlC,GAAA8B,EAAA9B,GACAkC,EAAAE,OAAAL,GACAG,EAAAG,UAAA,gBAEAF,EAAAnC,GAAA8B,EAAA9B,GAAA,SACAmC,EAAAC,OAAAH,GACAE,EAAAE,UAAA,yCAAAC,OAAAR,EAAA9B,IACAmC,EAAAI,iBAAA,QAAAX,EAAAY,eAAA,GAGA3B,UAAAuB,OAAAF,GACA1B,EAAA4B,OAAAD,GACAM,aAAAX,0CAKA,IAAAzB,EAAAC,SAAA0B,cAAA,OACAE,EAAA5B,SAAA0B,cAAA,OAEA3B,EAAAgC,UAAA,cACAH,EAAAG,UAAA,SACAxB,UAAAuB,OAAA/B,EAAA6B,GAEAR,KAAAgB,kDAMA,MAFAtC,QAGAA,MAAA,2CAKA,IAAAuC,EAAArC,SAAAQ,eAAAY,KAAA1B,GAAA4C,OAAA,EAAAlB,KAAA1B,GAAA6C,OAAA,IAWA,GATAxB,UAAA,QAAA,QACAyB,gBAAApB,KAAA1B,GAAA0B,KAAAvB,OACAwC,EAAAI,UAAAC,OAAA,UACAtB,KAAAuB,oBAAA,QAAAvB,KAAAc,eAAA,GAGA,MAFArC,OAGA+C,aAEA,IAAA/C,MAAA,CACA,IAAAgD,EAAA7C,SAAAC,cAAA,gBAEA6C,aAAArC,eACAsC,UACAF,EAAAZ,iBAAA,QAAAe,oBAKA,SAAAhC,YACA,IAAAiC,EAAA,IAAA/B,KAEA+B,EAAAC,aACAnD,GAAA0C,UAAAC,OAAA,WACArC,QAAAoC,UAAAC,OAAA,WACAS,eACAF,EAAAG,UAGA,SAAAnC,aACAjB,SAAAC,cAAA,WAEAwC,UAAAY,IAAA,aAGA,SAAAF,eACAG,WAAA,WAAA,OAAAhD,SAAAmC,UAAAY,IAAA,eAAA,KAGA,SAAAE,eACAjD,SAAAmC,UAAAY,IAAA,cAGA,SAAAb,gBAAAhB,GACA,IAAAK,EAAA7B,SAAAQ,eAAAgB,GACAgC,aAAAhC,EAAAc,OAAA,EAAAd,EAAAe,OAAA,IACAV,EAAAY,UAAAY,IAAA,gBACAxB,EAAAY,UAAAC,OAAA,cAEAY,WAAA,WACAzB,EAAAY,UAAAC,OAAA,gBACAb,EAAAY,UAAAY,IAAA,aAEAC,WAAA,WACAzB,EAAAE,UAAA,GACAF,EAAAY,UAAAY,IAAA,iBACA,MACA,KAGA,SAAAlB,aAAAX,GACA,IAAAiC,EAAAzD,SAAA0B,cAAA,QAEA+B,EAAA/D,GAAA8B,EAAA9B,GAAA,SACA+D,EAAAC,UAAAlC,EAAA7B,MACA8D,EAAA1B,UAAA,aACA3B,KAAA0B,OAAA2B,GAGA,SAAAD,aAAAhC,GACAxB,SAAAQ,eAAA,GAAAwB,OAAAR,EAAA,WAEAiB,UAAAY,IAAA,qBAGA,SAAAN,UACAO,WAAA,WACAnD,IAAAwD,MAAAC,QAAA,OACA7C,UAAA,QAAA,UACA,KAGA,SAAAJ,kBACA,IAAAlB,EAAAO,SAAA6D,iBAAA,kBACAC,EAAA9D,SAAA6D,iBAAA,kBACAxB,EAAA5C,EAAA,GAEAqE,EAAAvC,QAAA,SAAAC,GACAA,EAAAiB,UAAAsB,SAAA,UACAvC,EAAAiB,UAAAC,OAAA,WAIAY,WAAA,WAAA,OAAAjB,EAAAI,UAAAY,IAAA,UAAA,MAKA,SAAAtC,UAAAiD,EAAAC,GACA,IAAAC,EAAAlE,SAAAC,cAAA,IAAA+B,OAAAgC,IACAG,EAAA,IAAAC,MAAA,SAAApC,OAAAiC,EAAA,SAEA,UAAAD,IACAG,EAAAE,OAAA,GACAF,EAAAG,KAAA,QAEA,UAAAL,IACAE,EAAAG,KAAA,GACAH,EAAAlC,iBAAA,QAAA,WAAA,OAAAlB,UAAA,QAAA,kEAGAoD,EAAAI,SAAA,WACAL,EAAAR,UAAA,GACAQ,EAAApC,OAAAqC,GAGA,SAAAvB,aACA5C,SAAAC,cAAA,QAaAyD,UAZA,kfAeA,SAAAV,WACA5C,KAAAsD,UAAA,GACAnD,UAAAmD,UAAA,GACA3D,GAAA0C,UAAAY,IAAA,WACAhD,QAAAoC,UAAAY,IAAA,WACAtC,UAAA,QAAA,kBACAwC,eACApD,IAAAwD,MAAAC,QAAA,GACA/D,MAAA,EACAmB,YAGA,SAAAwD,YACA,MAAA,iEAAAC,KAAAC,UAAAC,WAGA,SAAA/D,WACA,IAAAgE,EAAAC,OAAAC,YACAC,EAAA/E,SAAAC,cAAA,UAEAuE,cACAO,EAAApB,MAAAqB,MAAAJ,EAAA","file":"../templates/index.min.js","sourcesContent":["const objects = [\r\n  [\r\n    {\r\n      id: 'mirror',\r\n      title: 'Mirror',\r\n      src: 'images/mirror.png'\r\n    },\r\n    {\r\n      id: 'balerina',\r\n      title: 'Ballet Danser',\r\n      src: 'images/balerina.png'\r\n    },\r\n    {\r\n      id: 'perfume',\r\n      title: \"Perfume\",\r\n      src: 'images/perfume.png'\r\n    },\r\n    {\r\n      id: 'comb',\r\n      title: 'Comb',\r\n      src: 'images/comb.png'\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      id: 'shoe',\r\n      title: 'Shoe',\r\n      src: 'images/shoe.png'\r\n    },\r\n    {\r\n      id: 'fan',\r\n      title: 'Fan',\r\n      src: 'images/fan.png'\r\n    },\r\n    {\r\n      id: 'bird',\r\n      title: 'Bird',\r\n      src: 'images/bird.png'\r\n    },\r\n    {\r\n      id: 'book',\r\n      title: 'Book',\r\n      src: 'images/book.png'\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      id: 'purse',\r\n      title: 'Purse',\r\n      src: 'images/purse.png'\r\n    },\r\n    {\r\n      id: 'basket',\r\n      title: 'Basket',\r\n      src: 'images/basket.png'\r\n    },\r\n    {\r\n      id: 'card',\r\n      title: 'Card',\r\n      src: 'images/card.png'\r\n    },\r\n    {\r\n      id: 'apple',\r\n      title: 'Apple',\r\n      src: 'images/apple.png'\r\n    }\r\n  ]\r\n];","let count = null,\r\n    level = 0;\r\n\r\nconst bg = document.querySelector('.bg'),\r\n      box = document.querySelector('.object__box'),\r\n      win = document.querySelector('.win'),     \r\n      list = document.querySelector('.list__items'),\r\n      content = document.querySelector('.content'),\r\n      tutorial = document.querySelector('.tutorial'),         \r\n      container = document.getElementById('box');\r\n\r\nconst lightInterval = setInterval(() => {\r\n        highlightObject();\r\n      }, 5000);\r\n\r\nfix100vh();\r\ndocument.body.onload = () => {\r\n  playSound('music', 'Caribbean Blue'); \r\n  gameStart();\r\n  hideSpiner();\r\n};\r\n\r\nclass Game {\r\n  constructor() {\r\n    this.count = 0;\r\n    this.runing = false;\r\n  }\r\n\r\n  createObjects() {\r\n    objects[level].forEach((i) => {\r\n      const img = document.createElement('img'),\r\n            images = document.createElement('img'),//added because append does not work with copy\r\n            div = document.createElement('div'),\r\n            clone = document.createElement('div'),\r\n            box = document.querySelector('.object__box');\r\n  \r\n      img.src = i.src;\r\n      images.src = i.src;\r\n      div.id = i.id;\r\n      div.append(img);\r\n      div.className = 'object filter';\r\n      \r\n      clone.id = i.id + '_clone';\r\n      clone.append(images);\r\n      clone.className = `object object_clone filter is-opacity ${i.id}`;\r\n      clone.addEventListener('click', this.onClickObject, false);\r\n  \r\n      lightInterval;\r\n      container.append(div);\r\n      box.append(clone);\r\n      addTitleList(i);    \r\n    });\r\n  }\r\n\r\n  addedPlace() {\r\n    const bg = document.createElement('div'),\r\n          div = document.createElement('div'); \r\n    \r\n    bg.className = 'object__box';    \r\n    div.className = 'bg_cut';\r\n    container.append(bg, div);    \r\n  \r\n    this.createObjects();\r\n  };\r\n\r\n  levelUp() {\r\n    ++level;\r\n\r\n    if(level === 3) {\r\n      level = 0;\r\n    }\r\n  };\r\n\r\n  onClickObject() {\r\n    const object = document.getElementById(this.id.substr(0, this.id.length - 6));\r\n  \r\n    playSound('sound', 'bell');\r\n    showFoundObject(this.id, this.count);\r\n    object.classList.remove('filter');\r\n    this.removeEventListener('click', this.onClickObject, false);\r\n    count++;\r\n\r\n    if(count === 3) {\r\n      createdWin();\r\n    }\r\n    if (count === 4) {\r\n      const playBtn = document.querySelector('.win__btn_pf');\r\n      \r\n      clearTimeout(lightInterval);\r\n      victory();\r\n      playBtn.addEventListener('click', gameStop);\r\n    }\r\n  };\r\n};\r\n\r\nfunction gameStart() { \r\n  const game = new Game;\r\n  \r\n  game.addedPlace();  \r\n  bg.classList.remove('bg_blur');\r\n  content.classList.remove('bg_blur');\r\n  hideTutorial();\r\n  game.levelUp();\r\n}\r\n\r\nfunction hideSpiner() {  \r\n  const spiner = document.querySelector('.spiner');\r\n  \r\n  spiner.classList.add('is-hidden');\r\n};\r\n\r\nfunction hideTutorial() {  \r\n  setTimeout(() => tutorial.classList.add('is-opacity'), 2000);  \r\n};\r\n\r\nfunction showTutorial() {  \r\n  tutorial.classList.add('is-opacity');  \r\n};\r\n\r\nfunction showFoundObject(i) {\r\n  const clone = document.getElementById(i);\r\n  recolorTitle(i.substr(0, i.length - 6));\r\n  clone.classList.add('object_found');\r\n  clone.classList.remove('is-opacity');\r\n\r\n  setTimeout(() => {\r\n    clone.classList.remove('object_found');\r\n    clone.classList.add('found-top');\r\n\r\n    setTimeout(() => {\r\n      clone.className = '';\r\n      clone.classList.add('object_width');\r\n    },1000);\r\n  }, 2000);\r\n}\r\n\r\nfunction addTitleList(i) {\r\n  const item = document.createElement('span');\r\n\r\n  item.id = i.id + '_title';\r\n  item.innerHTML = i.title;\r\n  item.className = 'list__item';\r\n  list.append(item);\r\n}\r\n\r\nfunction recolorTitle(i) {\r\n  const elem = document.getElementById(`${i}_title`);\r\n\r\n  elem.classList.add('list__items_found');\r\n}\r\n\r\nfunction victory() {\r\n  setTimeout(() => {\r\n    win.style.display = 'flex';\r\n    playSound('music','score');\r\n  }, 4000 );  \r\n};\r\n\r\nfunction highlightObject() {\r\n  const objects = document.querySelectorAll('#box > .filter'),\r\n        objectsFound = document.querySelectorAll('#box > .object'),\r\n        object = objects[0];\r\n\r\n  objectsFound.forEach((i) => {\r\n    if( i.classList.contains('light')) {\r\n      i.classList.remove('light');\r\n    }\r\n  });\r\n\r\n  setTimeout(() => object.classList.add('light'), 4700);\r\n};\r\n\r\n//musik and sound - two boxes used.\r\n//first argument \"sound\" or \"music\" (meaning), second argument - track name\r\nfunction playSound(meaning, trackName) { \r\n  const sound = document.querySelector(`.${meaning}`);\r\n  const player = new Audio(`media/${trackName}.mp3`);  \r\n\r\n  if (meaning === 'music') {\r\n    player.volume = .3;\r\n    player.loop = 'loop';\r\n  }\r\n  if (trackName === 'score') {\r\n    player.loop = '';\r\n    player.addEventListener('ended', () => playSound('music', 'Alan Silvestri - Super Mario Bros. Theme _ Police Car Chase'));\r\n  }\r\n\r\n  player.autoplay = 'autoplay';        \r\n  sound.innerHTML = '';\r\n  sound.append(player);  \r\n};\r\n\r\nfunction createdWin() {\r\n  const box = document.querySelector('.win'),\r\n        html = `<div class=\"bg bg_blur\"></div>\r\n                <div class=\"win__logo\">\r\n                  <img src=\"images/logo.png\" alt=\"\">\r\n                </div>\r\n                <a class=\"win__btn_pf\">\r\n                  <img src=\"images/button.png\" class=\"win__btn-pf_position\" alt=\"Play free now!\">\r\n                  <h1>Play free</h1>    \r\n                </a>\r\n                <a href=\"index.html\" class=\"win__btn-google\">\r\n                  <img src=\"images/google.png\" alt=\"\" >\r\n                </a>`;\r\n\r\n  box.innerHTML = html;\r\n};\r\n\r\nfunction gameStop() {    \r\n  list.innerHTML = '';\r\n  container.innerHTML = '';\r\n  bg.classList.add('bg_blur');\r\n  content.classList.add('bg_blur');\r\n  playSound('music', 'Caribbean Blue'); \r\n  showTutorial();\r\n  win.style.display = '';\r\n  count = 0;\r\n  gameStart();\r\n}\r\n\r\nfunction is_mobile() {\r\n  return (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\r\n};\r\n\r\nfunction fix100vh() {\r\n  let vh = window.innerHeight;\r\n  let elem = document.querySelector('.vh100');\r\n\r\n  if (is_mobile()) {\r\n   elem.style.width = vh + 'px';\r\n  } \r\n};"]}