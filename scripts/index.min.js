"use strict";var bg=document.querySelector(".bg"),spiner=document.querySelector(".spiner"),content=document.querySelector(".content"),tutorial=document.querySelector(".tutorial");function hideSpiner(){spiner.classList.add("is-hidden"),hideTutorial()}function hideTutorial(){setTimeout(function(){return tutorial.classList.add("is-opacity")},2e3)}function playSound(e,t){var i=document.querySelector(".".concat(e)),o=new Audio("media/".concat(t,".mp3"));"music"===e&&(o.volume=.3,o.loop="loop"),"score"===t&&(o.loop="",o.addEventListener("ended",function(){return playSound("music","Caribbean Blue")})),o.autoplay="autoplay",i.innerHTML="",i.append(o)}document.body.onload=function(){playSound("music","Caribbean Blue"),hideSpiner(),bg.classList.remove("bg_blur"),content.classList.remove("bg_blur")};var count=null,objects=[{id:"mirror",title:"Mirror",src:"images/mirror.png"},{id:"balerina",title:"Ballet Danser",src:"images/balerina.png"},{id:"perfume",title:"Perfume",src:"images/perfume.png"},{id:"comb",title:"Comb",src:"images/comb.png"}],container=document.getElementById("box"),box=document.querySelector(".object__box"),lightInterval=setInterval(function(){highlightObject()},5e3);function addObjects(){objects.forEach(function(e){var t=document.createElement("img"),i=document.createElement("img"),o=document.createElement("div"),n=document.createElement("div");t.src=e.src,i.src=e.src,o.id=e.id,o.append(t),o.className="object filter",n.addEventListener("click",onClickObject,!1),n.id=e.id+"_clone",n.append(i),n.className="object object_clone filter is-opacity ".concat(e.id),box.append(n),container.append(o),addTitleList(e)})}function onClickObject(){var e=document.getElementById(this.id.substr(0,this.id.length-6));playSound("sound","bell"),showFoundObject(this.id),e.classList.remove("filter"),this.removeEventListener("click",onClickObject,!1),4===++count&&(clearTimeout(lightInterval),victory())}function showFoundObject(e){var t=document.getElementById(e);recolorTitle(e.substr(0,e.length-6)),t.classList.add("found-object"),t.classList.remove("is-opacity"),console.log(t),setTimeout(function(){t.classList.remove("found-object"),t.classList.add("found-top"),setTimeout(function(){t.className="",t.classList.add("object_width")},1e3)},2e3)}function addTitleList(e){var t=document.querySelector(".list__items"),i=document.createElement("span");i.id=e.id+"_title",i.innerHTML=e.title,i.className="list__item",t.append(i)}function recolorTitle(e){document.getElementById("".concat(e,"_title")).classList.add("list__items_found")}function victory(){var e=document.querySelector(".win");setTimeout(function(){e.style.display="flex",playSound("music","score")},4e3)}function highlightObject(){var e=document.querySelectorAll("#box > .filter"),t=document.querySelectorAll("#box > .object"),i=e[0];t.forEach(function(e){e.classList.contains("light")&&e.classList.remove("light")}),setTimeout(function(){return i.classList.add("light")},4700)}addObjects();
//# sourceMappingURL=../maps/index.min.js.map
